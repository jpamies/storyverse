<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg width="900" height="1000" xmlns="http://www.w3.org/2000/svg">
  <style>
    .title { font: bold 24px sans-serif; }
    .layer-title { font: bold 18px sans-serif; }
    .component-title { font: bold 14px sans-serif; }
    .component-desc { font: 12px sans-serif; }
    .layer { fill: #f0f0f0; stroke: #333; stroke-width: 2; }
    .frontend { fill: #d1ecf1; }
    .api-gateway { fill: #d4edda; }
    .core-story { fill: #fff3cd; }
    .content-gen { fill: #f8d7da; }
    .storage { fill: #e2e3e5; }
    .analytics { fill: #cce5ff; }
    .eks { fill: #232F3E; }
    .component { fill: white; stroke: #333; stroke-width: 1; }
    .arrow { stroke: #333; stroke-width: 2; marker-end: url(#arrowhead); }
    .client { fill: #f8f9fa; }
    .cpu { fill: #d1ecf1; }
    .gpu { fill: #f8d7da; }
    .multi-az { fill: #cce5ff; }
  </style>
  
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#333" />
    </marker>
  </defs>
  
  <!-- Title -->
  <text x="450" y="30" class="title" text-anchor="middle">StoryVerse Architecture</text>
  
  <!-- Client Layer -->
  <rect x="150" y="50" width="600" height="60" rx="5" ry="5" class="client" />
  <rect x="170" y="60" width="150" height="40" rx="5" ry="5" class="component" />
  <text x="245" y="85" class="component-title" text-anchor="middle">Web Browser</text>
  
  <rect x="375" y="60" width="150" height="40" rx="5" ry="5" class="component" />
  <text x="450" y="85" class="component-title" text-anchor="middle">Mobile App</text>
  
  <rect x="580" y="60" width="150" height="40" rx="5" ry="5" class="component" />
  <text x="655" y="85" class="component-title" text-anchor="middle">Tablet App</text>
  
  <!-- Frontend Layer -->
  <rect x="100" y="150" width="700" height="100" rx="5" ry="5" class="layer frontend" />
  <text x="450" y="175" class="layer-title" text-anchor="middle">Frontend Layer</text>
  
  <rect x="120" y="185" width="150" height="50" rx="5" ry="5" class="component" />
  <text x="195" y="210" class="component-title" text-anchor="middle">Story Creator UI</text>
  
  <rect x="290" y="185" width="150" height="50" rx="5" ry="5" class="component" />
  <text x="365" y="210" class="component-title" text-anchor="middle">Character Selection</text>
  
  <rect x="460" y="185" width="150" height="50" rx="5" ry="5" class="component" />
  <text x="535" y="210" class="component-title" text-anchor="middle">Story Preview</text>
  
  <rect x="630" y="185" width="150" height="50" rx="5" ry="5" class="component" />
  <text x="705" y="210" class="component-title" text-anchor="middle">Parent Dashboard</text>
  
  <!-- API Gateway Layer -->
  <rect x="100" y="290" width="700" height="100" rx="5" ry="5" class="layer api-gateway" />
  <text x="450" y="315" class="layer-title" text-anchor="middle">API Gateway Layer</text>
  
  <rect x="120" y="325" width="200" height="50" rx="5" ry="5" class="component" />
  <text x="220" y="350" class="component-title" text-anchor="middle">API Gateway Service</text>
  
  <rect x="340" y="325" width="200" height="50" rx="5" ry="5" class="component" />
  <text x="440" y="350" class="component-title" text-anchor="middle">Authentication Service</text>
  
  <rect x="560" y="325" width="200" height="50" rx="5" ry="5" class="component" />
  <text x="660" y="350" class="component-title" text-anchor="middle">Rate Limiting Service</text>
  
  <!-- Core Story Generation Layer -->
  <rect x="100" y="430" width="340" height="220" rx="5" ry="5" class="layer core-story" />
  <text x="270" y="455" class="layer-title" text-anchor="middle">Core Story Generation Layer</text>
  
  <rect x="120" y="470" width="140" height="50" rx="5" ry="5" class="component" />
  <text x="190" y="495" class="component-title" text-anchor="middle">Universe Management</text>
  
  <rect x="280" y="470" width="140" height="50" rx="5" ry="5" class="component" />
  <text x="350" y="495" class="component-title" text-anchor="middle">Character Database</text>
  
  <rect x="120" y="535" width="140" height="50" rx="5" ry="5" class="component" />
  <text x="190" y="560" class="component-title" text-anchor="middle">Plot Generation</text>
  
  <rect x="280" y="535" width="140" height="50" rx="5" ry="5" class="component" />
  <text x="350" y="560" class="component-title" text-anchor="middle">Moral Lesson</text>
  
  <rect x="120" y="600" width="140" height="50" rx="5" ry="5" class="component" />
  <text x="190" y="625" class="component-title" text-anchor="middle">Crossover Logic</text>
  
  <!-- Content Generation Layer -->
  <rect x="460" y="430" width="340" height="220" rx="5" ry="5" class="layer content-gen" />
  <text x="630" y="455" class="layer-title" text-anchor="middle">Content Generation Layer</text>
  
  <rect x="480" y="470" width="140" height="50" rx="5" ry="5" class="component cpu" />
  <text x="550" y="495" class="component-title" text-anchor="middle">Text Generation</text>
  <text x="550" y="510" class="component-desc" text-anchor="middle">(CPU-intensive)</text>
  
  <rect x="640" y="470" width="140" height="50" rx="5" ry="5" class="component gpu" />
  <text x="710" y="495" class="component-title" text-anchor="middle">Image Generation</text>
  <text x="710" y="510" class="component-desc" text-anchor="middle">(GPU-intensive)</text>
  
  <rect x="480" y="535" width="140" height="50" rx="5" ry="5" class="component cpu" />
  <text x="550" y="560" class="component-title" text-anchor="middle">Audio Narration</text>
  <text x="550" y="575" class="component-desc" text-anchor="middle">(CPU-intensive)</text>
  
  <rect x="640" y="535" width="140" height="50" rx="5" ry="5" class="component" />
  <text x="710" y="560" class="component-title" text-anchor="middle">Content Moderation</text>
  
  <!-- Storage and Delivery Layer -->
  <rect x="100" y="690" width="700" height="100" rx="5" ry="5" class="layer storage" />
  <text x="450" y="715" class="layer-title" text-anchor="middle">Storage and Delivery Layer</text>
  
  <rect x="120" y="725" width="200" height="50" rx="5" ry="5" class="component multi-az" />
  <text x="220" y="750" class="component-title" text-anchor="middle">Story Database</text>
  <text x="220" y="765" class="component-desc" text-anchor="middle">(Multi-AZ)</text>
  
  <rect x="340" y="725" width="200" height="50" rx="5" ry="5" class="component" />
  <text x="440" y="750" class="component-title" text-anchor="middle">Media Asset Service</text>
  
  <rect x="560" y="725" width="200" height="50" rx="5" ry="5" class="component" />
  <text x="660" y="750" class="component-title" text-anchor="middle">Content Delivery Service</text>
  
  <!-- Analytics and Recommendation Layer -->
  <rect x="100" y="830" width="700" height="100" rx="5" ry="5" class="layer analytics" />
  <text x="450" y="855" class="layer-title" text-anchor="middle">Analytics and Recommendation Layer</text>
  
  <rect x="120" y="865" width="200" height="50" rx="5" ry="5" class="component" />
  <text x="220" y="890" class="component-title" text-anchor="middle">Usage Analytics</text>
  
  <rect x="340" y="865" width="200" height="50" rx="5" ry="5" class="component" />
  <text x="440" y="890" class="component-title" text-anchor="middle">Recommendation Engine</text>
  
  <rect x="560" y="865" width="200" height="50" rx="5" ry="5" class="component" />
  <text x="660" y="890" class="component-title" text-anchor="middle">Feedback Processing</text>
  
  <!-- EKS Layer -->
  <rect x="100" y="970" width="700" height="20" rx="5" ry="5" class="layer eks" />
  <text x="450" y="985" class="layer-title" text-anchor="middle" fill="white">AWS EKS with AutoMode</text>
  
  <!-- Arrows -->
  <line x1="450" y1="110" x2="450" y2="150" class="arrow" />
  <line x1="450" y1="250" x2="450" y2="290" class="arrow" />
  <line x1="450" y1="390" x2="450" y2="410" class="arrow" />
  <line x1="270" y1="410" x2="270" y2="430" class="arrow" />
  <line x1="630" y1="410" x2="630" y2="430" class="arrow" />
  <line x1="270" y1="650" x2="270" y2="670" class="arrow" />
  <line x1="630" y1="650" x2="630" y2="670" class="arrow" />
  <line x1="450" y1="670" x2="450" y2="690" class="arrow" />
  <line x1="450" y1="790" x2="450" y2="830" class="arrow" />
  <line x1="450" y1="930" x2="450" y2="970" class="arrow" />
</svg>
